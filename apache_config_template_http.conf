# Apache2 configuration template generated by leconfig
# See: https://github.com/johndoe31415/leconfig
# Do not edit manually, auto-generated file.
# Generated at ${now}

<VirtualHost *:80>
	# Serve this for all hosts: ${", ".join(hostnames)}
	ServerAdmin webmaster@${hostnames[0]}
	ServerName ${hostnames[0]}
	ServerAlias *

	DocumentRoot ${challenge_dir}
    <Directory />
        Order Deny,Allow
        Deny from All
    </Directory>
    <Directory ${challenge_dir}>
        Options None
        AllowOverride None
        Require all granted
        Allow from All
    </Directory>
	Alias /.well-known/acme-challenge ${challenge_dir}
	
	RewriteEngine On
	RewriteCond %{REQUEST_URI} !^/.well-known/acme-challenge
	RewriteRule ^(.*) https://%{SERVER_NAME}$1 [R=301,L]
</VirtualHost>
